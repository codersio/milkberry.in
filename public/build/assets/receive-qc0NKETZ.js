import{r as c,j as e}from"./app-BIZ3IliG.js";import{S,H as A,c as R}from"./sidebar-CX1c2OX3.js";import{F as M}from"./index-Bj6Ssh9F.js";import{R as u}from"./index-CccxSFAp.js";import{f as E}from"./index-B4D-UyGZ.js";import"./index-kmbyLHGu.js";const V=({admin:i})=>{const[o,g]=c.useState(!0),[x,m]=c.useState(null),[j,z]=c.useState(i.type),[_,T]=c.useState(i.id),[h,b]=c.useState(""),[t,p]=c.useState({recv_name:"",recv_ref_no:"",recv_address:"",recv_note:"",recv_form_title:"",recv_date:"",recv_atach_file:""}),[y,w]=c.useState([]),l=r=>{const{name:s,value:a}=r.target;p({...t,[s]:a})},f=()=>{g(!o)},N=()=>{m(!x)},v=r=>{const{name:s,value:a,type:n,files:D}=r.target;D.length>0&&b(r.target.files[0])},d=()=>{axios.post("/api/admin/recive-fetch").then(r=>{console.log(r.data),w(r.data)}).catch(r=>{console.log(r)})};c.useEffect(()=>{d()},[]);const k=r=>{r.preventDefault();const s=new FormData;s.append("recv_name",t.recv_name),s.append(" admin_id",_),s.append("admin_type",j),s.append("recv_ref_no",t.recv_ref_no),s.append("recv_address",t.recv_address),s.append("recv_note",t.recv_note),s.append("recv_form_title",t.recv_form_title),s.append("recv_atach_file",h),s.append("recv_date",t.recv_date),axios.post("/api/admin/recive-store",s).then(a=>{console.log(a),d()}).catch(a=>console.log(a))},F=(r,s)=>{r.preventDefault(),axios.post(`/api/admin/recive-delete/${s}`).then(a=>{console.log(a),d()}).catch(a=>console.log(a))},C=(r,s)=>{r.preventDefault();const a=new FormData;a.append("recv_name",t.recv_name),a.append("recv_ref_no",t.recv_ref_no),a.append("recv_address",t.recv_address),a.append("recv_note",t.recv_note),a.append("recv_form_title",t.recv_form_title),a.append("recv_date",t.recv_date),a.append("recv_atach_file",h),axios.post(`/api/admin/recive-update/${s}`,a).then(n=>d()).catch(n=>console.log(n))};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx("div",{className:"bg-gray-800 text-white w-[11%] flex-shrink-0",children:e.jsx(S,{})}),e.jsxs("div",{className:"flex-grow bg-gray-100 ",children:[e.jsx(A,{}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"card mt-2",children:e.jsxs("div",{className:"card-header flex justify-between px-[3rem] border py-3",children:[e.jsx("div",{className:"grid place-items-center text-[18px]",children:e.jsx("h1",{children:"Receive List"})}),e.jsxs("button",{type:"button",onClick:f,className:"bg-gray-700 p-2 text-white rounded-md flex space-x-2",children:[e.jsx("div",{className:"grid place-items-center mt-1",children:e.jsx(M,{})}),e.jsx("h1",{children:"Add Receive "})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference No"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"to Title                              "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[y.map((r,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:r.recv_name}),e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:r.recv_ref_no}),e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:r.recv_date}),e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:r.recv_form_title}),e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:r.recv_address}),e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:r.recv_note}),e.jsxs("td",{className:"px-6 py-3 text-left text-xs flex space-x-2",children:[e.jsx("a",{onClick:()=>{p({recv_address:r.recv_address,recv_name:r.recv_name,recv_atach_file:r.recv_atach_file,recv_date:r.recv_date,recv_form_title:r.recv_form_title,recv_note:r.recv_note,recv_ref_no:r.recv_ref_no}),m(r.id)},children:e.jsx(R,{className:"text-[1.3rem] cursor-pointer"})}),e.jsx("a",{onClick:a=>F(a,r.id),children:e.jsx(E,{className:"text-[1.1rem] cursor-pointer"})})]}),e.jsx("div",{id:`exampleModal-${r.id}`,className:x===r.id?"fixed h-screen transform  bg-black bg-opacity-85 shadow-md rounded-md   top-0 bottom-0 right-0 left-0 w-full grid place-items-center ":"fixed h-screen transform  bg-black bg-opacity-85 shadow-md rounded-md   top-0 bottom-0 right-0 left-0 w-full hidden place-items-center",children:e.jsx("div",{className:"back-model w-[60%] bg-white relative ",children:e.jsxs("div",{className:"modal-content w-full",children:[e.jsxs("div",{className:"modal-header flex justify-between   bg-[#0E99F4] p-2",children:[e.jsx("div",{className:"w-[80%]  px-4 mt-[0.29rem]",children:e.jsxs("h1",{className:"text-white text-[2rem]",children:["update Receive ",r.id]})}),e.jsx("button",{onClick:N,className:"ml-auto text-[2rem] text-white",children:e.jsx(u,{})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("form",{action:!0,className:"w-full grid grid-cols-2 gap-5 px-6 mt-10 relative",children:[e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:" From title *"}),e.jsx("input",{onChange:l,name:"recv_name",value:t.recv_name,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:"Reference no"}),e.jsx("input",{onChange:l,name:"recv_ref_no",value:t.recv_ref_no,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Date"})," ",e.jsx("br",{}),e.jsx("input",{onChange:l,name:"recv_date",value:t.recv_date,type:"date",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Next Follow Up DatePhone *"})," ",e.jsx("br",{}),e.jsx("input",{onChange:l,name:"recv_form_title",value:t.recv_form_title,type:"text",className:"w-full border-gray-300"})]})]}),e.jsxs("div",{className:"form-group w-full px-6 mt-3",children:[e.jsx("label",{htmlFor:!0,children:"Address"})," ",e.jsx("br",{}),e.jsx("textarea",{onChange:l,value:t.recv_address,name:"recv_address",type:"date",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full px-6 mt-3",children:[e.jsx("label",{htmlFor:!0,children:"Note"})," ",e.jsx("br",{}),e.jsx("textarea",{onChange:l,value:t.recv_note,name:"recv_note",type:"date",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full px-6",children:[e.jsx("label",{htmlFor:!0,children:"Atachment Files"})," ",e.jsx("br",{}),e.jsx("div",{class:"flex items-center justify-center w-full",children:e.jsxs("label",{for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-[2.5rem] border-2 border-gray-300 border-dashed  cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsx("div",{class:"flex flex-col items-center justify-center mt-4",children:e.jsx("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})})}),e.jsx("input",{name:"recv_atach_file",onChange:v,id:"dropzone-file",type:"file",class:"hidden"})]})})]})]}),e.jsx("div",{className:"form-group   bottom-0  left-0 right-0 mt-10 py-4",children:e.jsx("div",{className:"flex justify-end px-5 p-3 space-x-3 w-full",children:e.jsx("button",{onClick:a=>C(a,r.id),className:"bg-gray-800 p-2 text-white w-[12%] ",children:"Save"})})})]})})},r.id)]})),e.jsx("tr",{children:e.jsx("td",{})})]})]})}),e.jsx("div",{id:"exampleModal",className:o?"  fixed h-screen transform  bg-black shadow-md rounded-md g  top-0 bottom-0 right-0 left-0 w-full hidden":"fixed h-screen transform  bg-black bg-opacity-85 shadow-md rounded-md   top-0 bottom-0 right-0 left-0 w-full grid place-items-center",children:e.jsx("div",{className:"back-model w-[60%] bg-white relative ",children:e.jsxs("div",{className:"modal-content w-full",children:[e.jsxs("div",{className:"modal-header flex justify-between   bg-[#0E99F4] p-2",children:[e.jsx("div",{className:"w-[80%]  px-4 mt-[0.29rem]",children:e.jsx("h1",{className:"text-white text-[2rem]",children:"Add Receive"})}),e.jsx("button",{onClick:f,className:"ml-auto text-[2rem] text-white",children:e.jsx(u,{})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("form",{action:!0,className:"w-full grid grid-cols-2 gap-5 px-6 mt-10 relative",children:[e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:" From title *"}),e.jsx("input",{onChange:l,name:"recv_name",value:t.recv_name,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:"Reference no"}),e.jsx("input",{onChange:l,name:"recv_ref_no",value:t.recv_ref_no,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Date"})," ",e.jsx("br",{}),e.jsx("input",{onChange:l,name:"recv_date",value:t.recv_date,type:"date",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Next Follow Up DatePhone *"})," ",e.jsx("br",{}),e.jsx("input",{onChange:l,name:"recv_form_title",value:t.recv_form_title,type:"text",className:"w-full border-gray-300"})]})]}),e.jsxs("div",{className:"form-group w-full px-6 mt-3",children:[e.jsx("label",{htmlFor:!0,children:"Address"})," ",e.jsx("br",{}),e.jsx("textarea",{onChange:l,value:t.recv_address,name:"recv_address",type:"date",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full px-6 mt-3",children:[e.jsx("label",{htmlFor:!0,children:"Note"})," ",e.jsx("br",{}),e.jsx("textarea",{onChange:l,value:t.recv_note,name:"recv_note",type:"date",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full px-6",children:[e.jsx("label",{htmlFor:!0,children:"Atachment Files"})," ",e.jsx("br",{}),e.jsx("div",{class:"flex items-center justify-center w-full",children:e.jsxs("label",{for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-[2.5rem] border-2 border-gray-300 border-dashed  cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsx("div",{class:"flex flex-col items-center justify-center mt-4",children:e.jsx("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})})}),e.jsx("input",{name:"recv_atach_file",onChange:v,id:"dropzone-file",type:"file",class:"hidden"})]})})]})]}),e.jsx("div",{className:"form-group   bottom-0  left-0 right-0 mt-10 py-4",children:e.jsx("div",{className:"flex justify-end px-5 p-3 space-x-3 w-full",children:e.jsx("button",{onClick:k,className:"bg-gray-800 p-2 text-white w-[12%] ",children:"Save"})})})]})})})]})]})]})};export{V as default};
