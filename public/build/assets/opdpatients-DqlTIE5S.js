import{r as i,j as e}from"./app-CEg9JAB6.js";import{S as C,H as _}from"./sidebar-DryF3hU2.js";import{F as P}from"./index-B4nz579p.js";import{R as A}from"./index-Uofm2pEf.js";import{P as D}from"./patientsmodal-CLPLGMO_.js";import{S}from"./sweetalert2.all-Crg2-Bly.js";const E=({admin:o})=>{const[c,g]=i.useState(!0),[m,j]=i.useState(!0),[f,y]=i.useState([]),[a,N]=i.useState({Heigh:"",Weight:"",admin_type:"",admin_id:"",patient_id:"",BP:"",Pulse:"",Temperature:"",Respiration:"",Symptoms_Type:"",Symptoms_Title:"",Symptoms_Description:"",Note:"",Allergies:"",Previous_Medical_Issue:"",appoint_Date:"",Case:"",Casualty:"",Old_Patient:"",TPA:"",Reference:"",Doctor:"",Charge_Category:"",Charge:"",Applied_Charge:"",Tax:"",Standard_Charge:"",Amount:"",Payment_Mode:"",Paid_Amount:"",Live_Consultation:""}),[r,n]=i.useState({}),s=t=>{const{name:l,value:d}=t.target;N({...a,[l]:d}),n({...r,[l]:""})},[b,v]=i.useState([]),x=async()=>{try{const t=await axios.get("/api/admin/patient-fetch");y(t.data)}catch(t){console.error("Error fetching data:",t)}},u=async()=>{try{const t=await axios.post("/api/admin/opd-fetch");v(t.data)}catch(t){console.error("Error fetching data:",t)}};i.useEffect(()=>{x(),u()},[]);const w=async t=>{t.preventDefault();const l={};if(!a.patient_id.trim())l.patient_id="Patients name is required",n(l);else if(!a.appoint_Date.trim())l.appoint_Date="Appointment Datee is required",n(l);else if(!a.Doctor.trim())l.Doctor="Doctor is required",n(l);else if(!a.Applied_Charge.trim())l.Applied_Charge="Applied Charge is required",n(l);else if(!a.Paid_Amount.trim())l.Paid_Amount="Paid Amount is required",n(l);else try{await axios.post("/api/admin/opd-store",a),u(),S.fire({icon:"success",title:"Success!",text:"Form submitted successfully!"})}catch(d){console.log(d)}},p=()=>{g(!c)},h=()=>{j(!m)};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx("div",{className:"bg-gray-800 text-white w-[11%] flex-shrink-0",children:e.jsx(C,{})}),e.jsxs("div",{className:"flex-grow bg-gray-100 ",children:[e.jsx(_,{}),e.jsxs("div",{className:"relative px-4",children:[e.jsx("div",{className:"card mt-2",children:e.jsxs("div",{className:"card-header flex justify-between px-[3rem] border py-3",children:[e.jsx("div",{className:"grid place-items-center text-[18px]",children:e.jsxs("h1",{children:["OPD Patient- ",o.name]},o.id)}),e.jsxs("button",{type:"button",onClick:p,className:"bg-gray-700 p-2 text-white rounded-md flex space-x-2",children:[e.jsx("div",{className:"grid place-items-center mt-1",children:e.jsx(P,{})}),e.jsx("h1",{children:"  Add Patient"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient Id"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guardian Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Consultant"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Visit"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200 ",children:b.map(t=>e.jsxs("tr",{className:"px-[3rem]",children:[e.jsxs("td",{className:"px-6 py-3 text-left",children:[" ",t.name]}),e.jsxs("td",{className:"px-6 py-3 text-left",children:[" ",t.patient_id]}),e.jsxs("td",{className:"px-6 py-3 text-left",children:[" ",t.guardian_name]}),e.jsxs("td",{className:"px-6 py-3 text-left",children:[" ",t.gender]}),e.jsxs("td",{className:"px-6 py-3 text-left",children:[" ",t.phone]}),e.jsxs("td",{className:"px-6 py-3 text-left",children:[" ",t.Doctor]}),e.jsxs("td",{className:"px-6 py-3 text-left",children:[" ",t.appoint_Date]})]}))})]})}),e.jsxs("div",{id:"exampleModal",className:c?"  fixed h-screen transform  bg-black shadow-md rounded-md g  top-0 bottom-0 right-0 left-0 w-full hidden":"fixed h-screen transform  bg-black bg-opacity-85 shadow-md rounded-md   top-0 bottom-0 right-0 left-0 w-full grid place-items-center",children:[e.jsx("div",{className:"back-model w-[80%] bg-white relative ",children:e.jsxs("div",{className:"modal-content w-full",children:[e.jsxs("div",{className:"modal-header grid grid-cols-2  bg-[#0E99F4] p-2",children:[e.jsxs("div",{className:"w-[80%] ",children:[e.jsxs("div",{className:"w-[80%] flex space-x-2 px-4 mt-[0.29rem]",children:[e.jsxs("select",{value:a.patient_id,onChange:s,name:"patient_id",id:!0,className:"w-[100%] h-9",children:[e.jsx("option",{value:!0,disabled:!0,children:"Select Patient"}),f.map(t=>e.jsx("option",{value:t.id,children:t.name}))]}),e.jsxs("button",{onClick:h,className:"bg-gray-700 w-[40%] h-9  text-white rounded-md",children:[" ",e.jsx("i",{className:"fa-solid fa-plus"}),"Add Patient"]})]}),r.patient_id&&e.jsx("span",{className:"text-red-500",children:r.patient_id})]}),e.jsx("div",{className:"flex mt-[0.40rem]",children:e.jsx("button",{onClick:p,className:"ml-auto text-[2rem] text-white",children:e.jsx(A,{})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{action:!0,className:"w-full flex space-x-3 px-6 mt-10 relative",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:"Height"}),e.jsx("input",{value:a.Height,onChange:s,name:"Height",type:"text",className:" border-gray-300 w-full"}),e.jsx("input",{onChange:s,name:"admin_type",type:"hidden",className:"border-gray-300 w-full",value:a.admin_type}),e.jsx("input",{onChange:s,name:"admin_id",type:"hidden",className:"border-gray-300 w-full",value:a.admin_id})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Weight"})," ",e.jsx("br",{}),e.jsx("input",{value:a.Weight,onChange:s,name:"Weight",type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" BP"})," ",e.jsx("br",{}),e.jsx("input",{name:"BP",value:a.BP,onChange:s,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Pulse"})," ",e.jsx("br",{}),e.jsx("input",{name:"Pulse",onChange:s,value:a.Pulse,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Temperature"})," ",e.jsx("br",{}),e.jsx("input",{name:"Temperature",onChange:s,value:a.Temperature,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Respiration"})," ",e.jsx("br",{}),e.jsx("input",{name:"Respiration",onChange:s,value:a.Respiration,type:"text",className:" border-gray-300 w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:!0,children:"Symptoms Type"})," ",e.jsx("br",{}),e.jsx("input",{name:"Symptoms_Type",onChange:s,value:a.Symptoms_Type,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:!0,children:"Symptoms Title"})," ",e.jsx("br",{}),e.jsx("input",{name:"Symptoms_Title",onChange:s,value:a.Symptoms_Title,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group   w-full  ",children:[e.jsx("label",{htmlFor:"",children:"Symptoms Description"}),e.jsx("textarea",{name:"Symptoms_Description",onChange:s,value:a.Symptoms_Description,id:!0,rows:3,className:"px-6 w-full border-gray-300",defaultValue:""})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"form-group   w-full  ",children:[e.jsx("label",{htmlFor:"",children:"Note"}),e.jsx("textarea",{name:"Note",onChange:s,value:a.Note,id:!0,rows:3,className:"px-6 w-full border-gray-300",defaultValue:""})]}),e.jsxs("div",{className:"form-group   w-full  ",children:[e.jsx("label",{htmlFor:"",children:"Any Known Allergies"}),e.jsx("textarea",{name:"Allergies",onChange:s,value:a.Allergies,id:!0,rows:3,className:"px-6 w-full border-gray-300",defaultValue:""})]})]}),e.jsxs("div",{className:"form-group   w-full  ",children:[e.jsx("label",{htmlFor:"",children:"Previous Medical Issue"}),e.jsx("textarea",{name:"Previous_Medical_Issue",onChange:s,value:a.Previous_Medical_Issue,id:!0,rows:3,className:"px-6 w-full border-gray-300",defaultValue:""})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 border p-3",children:[e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:"Appointment Date *"}),e.jsx("input",{name:"appoint_Date",onChange:s,value:a.appoint_Date,type:"date",className:" border-gray-300 w-full"}),r.appoint_Date&&e.jsx("span",{className:"text-red-500",children:r.appoint_Date})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Case"})," ",e.jsx("br",{}),e.jsx("input",{name:"Case",onChange:s,value:a.Case,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Casualty"})," ",e.jsx("br",{}),e.jsx("input",{name:"Casualty",onChange:s,value:a.Casualty,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Old Patient"})," ",e.jsx("br",{}),e.jsx("input",{name:"Old_Patient",onChange:s,value:a.Old_Patient,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"TPA"})," ",e.jsx("br",{}),e.jsx("input",{name:"TPA",onChange:s,value:a.TPA,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Reference"})," ",e.jsx("br",{}),e.jsx("input",{name:"Reference",onChange:s,value:a.Reference,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Consultant Doctor *"})," ",e.jsx("br",{}),e.jsxs("select",{name:"Doctor",onChange:s,value:a.Doctor,className:" border-gray-300 w-full",children:[e.jsx("option",{disabled:!0,children:"Select doctor"}),e.jsx("option",{value:"Amit Singh (9009)",children:"	Amit Singh (9009)"}),e.jsx("option",{value:"Amit Singh (9009)",children:"	Reyan Jain (9011)"})]}),r.Doctor&&e.jsx("span",{className:"text-red-500",children:r.Doctor})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Charge Category"})," ",e.jsx("br",{}),e.jsx("input",{name:"Charge_Category",onChange:s,value:a.Charge_Category,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Charge *"})," ",e.jsx("br",{}),e.jsx("input",{name:"Charge",onChange:s,value:a.Charge,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Tax"})," ",e.jsx("br",{}),e.jsx("input",{name:"Tax",onChange:s,value:a.Tax,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Standard Charge (IDR)"})," ",e.jsx("br",{}),e.jsx("input",{name:"Standard_Charge",onChange:s,value:a.Standard_Charge,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Applied Charge (IDR) *"})," ",e.jsx("br",{}),e.jsx("input",{name:"Applied_Charge",onChange:s,value:a.Applied_Charge,type:"text",className:" border-gray-300 w-full"}),r.Applied_Charge&&e.jsx("span",{className:"text-red-500",children:r.Applied_Charge})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Amount (IDR) *"})," ",e.jsx("br",{}),e.jsx("input",{name:"Amount",onChange:s,value:a.Amount,type:"text",className:" border-gray-300 w-full"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Payment Mode"})," ",e.jsx("br",{}),e.jsxs("select",{name:"Payment_Mode",onChange:s,value:a.Payment_Mode,className:" border-gray-300 w-full",children:[e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Credit Card",children:"Credit Card"}),e.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Paid Amount (IDR) *"})," ",e.jsx("br",{}),e.jsx("input",{name:"Paid_Amount",onChange:s,value:a.Paid_Amount,type:"text",className:" border-gray-300 w-full"}),r.Paid_Amount&&e.jsx("span",{className:"text-red-500",children:r.Paid_Amount})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Live Consultation"})," ",e.jsx("br",{}),e.jsxs("select",{name:"Live_Consultation",onChange:s,value:a.Live_Consultation,className:" border-gray-300 w-full",children:[e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]})]})]})]})}),e.jsx("div",{className:"form-group   bottom-0  left-0 right-0 mt-10 py-4",children:e.jsx("div",{className:"flex justify-end px-5 p-3 space-x-3 w-full",children:e.jsx("button",{onClick:w,className:"bg-gray-800 p-2 text-white w-[5%] ",children:"Save"})})})]})}),e.jsx(D,{Patientsmodal:m,handlePatients:h,fetchData:x})]})]})]})]})};export{E as default};
