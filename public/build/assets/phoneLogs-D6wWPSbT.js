import{r as n,j as e}from"./app-C1sFr5Jl.js";import{S as C,H as F,c as k}from"./sidebar-BgpZ4ZOw.js";import{F as D}from"./index-Dz5fGuO7.js";import{R as u}from"./index-Cvp_4XLo.js";import{f as S}from"./index-4ASejIE9.js";import"./index-CL7JO-sE.js";const $=({admin:i})=>{const[c,_]=n.useState(!0),[d,p]=n.useState(null),[f,E]=n.useState(i.type),[j,P]=n.useState(i.id);n.useState("");const[t,m]=n.useState({pl_name:"",pl_phone:"",pl_date:"",pl_description:"",pl_next_follor_date:"",pl_call_duration:"",pl_call_tpe:"",pl_note:""}),[g,b]=n.useState([]),r=l=>{const{name:s,value:a}=l.target;m({...t,[s]:a})},x=()=>{_(!c)},N=()=>{p(!d)},o=()=>{axios.post("/api/admin/phone-logs-fetch").then(l=>{console.log(l.data),b(l.data)}).catch(l=>{console.log(l)})};n.useEffect(()=>{o()},[]);const y=l=>{l.preventDefault();const s=new FormData;s.append("pl_name",t.pl_name),s.append(" admin_id",j),s.append("admin_type",f),s.append("pl_next_follor_date",t.pl_next_follor_date),s.append("pl_call_duration",t.pl_call_duration),s.append("pl_phone",t.pl_phone),s.append("pl_date",t.pl_date),s.append("pl_description",t.pl_description),s.append("pl_call_tpe",t.pl_call_tpe),s.append("pl_note",t.pl_note),axios.post("/api/admin/phone-logs-store",s).then(a=>{console.log(a),o()}).catch(a=>console.log(a))},v=(l,s)=>{l.preventDefault(),axios.post(`/api/admin/phone-logs-delete/${s}`).then(a=>{console.log(a),o()}).catch(a=>console.log(a))},w=(l,s)=>{l.preventDefault();const a=new FormData;a.append("pl_name",t.pl_name),a.append("pl_next_follor_date",t.pl_next_follor_date),a.append("pl_call_duration",t.pl_call_duration),a.append("pl_phone",t.pl_phone),a.append("pl_date",t.pl_date),a.append("pl_description",t.pl_description),a.append("pl_call_tpe",t.pl_call_tpe),a.append("pl_note",t.pl_note),axios.post(`/api/admin/phone-logs-update/${s}`,a).then(h=>o()).catch(h=>console.log(h))};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx("div",{className:"bg-gray-800 text-white w-[11%] flex-shrink-0",children:e.jsx(C,{})}),e.jsxs("div",{className:"flex-grow bg-gray-100 ",children:[e.jsx(F,{}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"card mt-2",children:e.jsxs("div",{className:"card-header flex justify-between px-[3rem] border py-3",children:[e.jsx("div",{className:"grid place-items-center text-[18px]",children:e.jsx("h1",{children:"Complain List"})}),e.jsxs("button",{type:"button",onClick:x,className:"bg-gray-700 p-2 text-white rounded-md flex space-x-2",children:[e.jsx("div",{className:"grid place-items-center mt-1",children:e.jsx(D,{})}),e.jsx("h1",{children:"Add Call Logs "})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Follow Up Date                                    "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Call Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[g.map((l,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:l.pl_name}),e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:l.pl_phone}),e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:l.pl_date}),e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:l.pl_next_follor_date}),e.jsx("td",{className:"px-6 py-3 text-left text-xs",children:l.pl_call_tpe}),e.jsxs("td",{className:"px-6 py-3 text-left text-xs flex space-x-2",children:[e.jsx("a",{onClick:()=>{m({id:l.id,cml_phone:l.cml_phone,cml_name:l.cml_name,cml_source:l.cml_source,cml_by:l.cml_by,cml_phone:l.cml_phone,cml_date:l.cml_date,cml_description:l.cml_description,cml_token:l.cml_token,cml_assigned:l.cml_assigned,cml_note:l.cml_note,cml_atach_file:l.cml_name}),p(l.id)},children:e.jsx(k,{className:"text-[1.3rem] cursor-pointer"})}),e.jsx("a",{onClick:a=>v(a,l.id),children:e.jsx(S,{className:"text-[1.1rem] cursor-pointer"})})]}),e.jsx("div",{id:`exampleModal-${l.id}`,className:d===l.id?"fixed h-screen transform  bg-black bg-opacity-85 shadow-md rounded-md   top-0 bottom-0 right-0 left-0 w-full grid place-items-center ":"fixed h-screen transform  bg-black bg-opacity-85 shadow-md rounded-md   top-0 bottom-0 right-0 left-0 w-full hidden place-items-center",children:e.jsx("div",{className:"back-model w-[60%] bg-white relative ",children:e.jsxs("div",{className:"modal-content w-full",children:[e.jsxs("div",{className:"modal-header flex justify-between   bg-[#0E99F4] p-2",children:[e.jsx("div",{className:"w-[80%]  px-4 mt-[0.29rem]",children:e.jsxs("h1",{className:"text-white text-[2rem]",children:["update Complain ",l.id]})}),e.jsx("button",{onClick:N,className:"ml-auto text-[2rem] text-white",children:e.jsx(u,{})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("form",{action:!0,className:"w-full grid grid-cols-3 gap-5 px-6 mt-10 relative",children:[e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:" Name"}),e.jsx("input",{onChange:r,name:"pl_name",value:t.pl_name,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:"Phone"}),e.jsx("input",{onChange:r,name:"pl_phone",value:t.pl_phone,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Date"})," ",e.jsx("br",{}),e.jsx("input",{onChange:r,name:"pl_date",value:t.pl_date,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Next Follow Up DatePhone *"})," ",e.jsx("br",{}),e.jsx("input",{onChange:r,name:"pl_next_follor_date",value:t.pl_next_follor_date,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Call Duration"})," ",e.jsx("br",{}),e.jsx("input",{type:"text",onChange:r,name:"pl_call_duration",value:t.pl_call_duration,className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Call Type"})," ",e.jsx("br",{}),e.jsxs("select",{className:"w-full border-gray-300",onChange:r,name:"pl_call_tpe",value:t.pl_call_tpe,id:"",children:[e.jsx("option",{value:"",children:"Select call type"}),e.jsx("option",{value:"incoming",children:"Incoming"}),e.jsx("option",{value:"outgoing",children:"Outgoing"})]})]})]}),e.jsxs("div",{className:"form-group w-full px-6 mt-3",children:[e.jsx("label",{htmlFor:!0,children:"Description"})," ",e.jsx("br",{}),e.jsx("textarea",{onChange:r,value:t.pl_description,name:"pl_description",type:"date",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full px-6 mt-3",children:[e.jsx("label",{htmlFor:!0,children:"Note"})," ",e.jsx("br",{}),e.jsx("textarea",{onChange:r,value:t.pl_note,name:"pl_note",type:"date",className:"w-full border-gray-300"})]})]}),e.jsx("div",{className:"form-group   bottom-0  left-0 right-0 mt-10 py-4",children:e.jsx("div",{className:"flex justify-end px-5 p-3 space-x-3 w-full",children:e.jsx("button",{onClick:a=>w(a,l.id),className:"bg-gray-800 p-2 text-white w-[12%] ",children:"Save"})})})]})})},l.id)]})),e.jsx("tr",{children:e.jsx("td",{})})]})]})}),e.jsx("div",{id:"exampleModal",className:c?"  fixed h-screen transform  bg-black shadow-md rounded-md g  top-0 bottom-0 right-0 left-0 w-full hidden":"fixed h-screen transform  bg-black bg-opacity-85 shadow-md rounded-md   top-0 bottom-0 right-0 left-0 w-full grid place-items-center",children:e.jsx("div",{className:"back-model w-[60%] bg-white relative ",children:e.jsxs("div",{className:"modal-content w-full",children:[e.jsxs("div",{className:"modal-header flex justify-between   bg-[#0E99F4] p-2",children:[e.jsx("div",{className:"w-[80%]  px-4 mt-[0.29rem]",children:e.jsx("h1",{className:"text-white text-[2rem]",children:"Add Visitor"})}),e.jsx("button",{onClick:x,className:"ml-auto text-[2rem] text-white",children:e.jsx(u,{})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("form",{action:!0,className:"w-full grid grid-cols-3 gap-5 px-6 mt-10 relative",children:[e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:" Name"}),e.jsx("input",{onChange:r,name:"pl_name",value:t.pl_name,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:"Phone"}),e.jsx("input",{onChange:r,name:"pl_phone",value:t.pl_phone,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Date"})," ",e.jsx("br",{}),e.jsx("input",{onChange:r,name:"pl_date",value:t.pl_date,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:" Next Follow Up DatePhone *"})," ",e.jsx("br",{}),e.jsx("input",{onChange:r,name:"pl_next_follor_date",value:t.pl_next_follor_date,type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Call Duration"})," ",e.jsx("br",{}),e.jsx("input",{type:"text",onChange:r,name:"pl_call_duration",value:t.pl_call_duration,className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Call Type"})," ",e.jsx("br",{}),e.jsxs("select",{className:"w-full border-gray-300",onChange:r,name:"pl_call_tpe",value:t.pl_call_tpe,id:"",children:[e.jsx("option",{value:"",children:"Select call type"}),e.jsx("option",{value:"incoming",children:"Incoming"}),e.jsx("option",{value:"outgoing",children:"Outgoing"})]})]})]}),e.jsxs("div",{className:"form-group w-full px-6 mt-3",children:[e.jsx("label",{htmlFor:!0,children:"Description"})," ",e.jsx("br",{}),e.jsx("textarea",{onChange:r,value:t.pl_description,name:"pl_description",type:"date",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full px-6 mt-3",children:[e.jsx("label",{htmlFor:!0,children:"Note"})," ",e.jsx("br",{}),e.jsx("textarea",{onChange:r,value:t.pl_note,name:"pl_note",type:"date",className:"w-full border-gray-300"})]})]}),e.jsx("div",{className:"form-group   bottom-0  left-0 right-0 mt-10 py-4",children:e.jsx("div",{className:"flex justify-end px-5 p-3 space-x-3 w-full",children:e.jsx("button",{onClick:y,className:"bg-gray-800 p-2 text-white w-[12%] ",children:"Save"})})})]})})})]})]})]})};export{$ as default};
