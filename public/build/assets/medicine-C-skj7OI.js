import{r as l,j as e,d as u}from"./app-BIZ3IliG.js";import{S as C,H as k}from"./sidebar-CX1c2OX3.js";import{F as n}from"./index-Bj6Ssh9F.js";import{R as M}from"./index-CccxSFAp.js";import{P as F}from"./patientsmodal-2_cbcNCC.js";import{S}from"./sweetalert2.all-DwNYEVuA.js";import"./index-kmbyLHGu.js";import"./index-B4D-UyGZ.js";const z=({admin:d,medicineCategories:g,medicine:j})=>{const[c,f]=l.useState(!0),[o,y]=l.useState(!0),[P,v]=l.useState([]),[b,w]=l.useState({}),[a,m]=l.useState({admin_type:d.type,admin_id:d.id,name:"",category_id:"",company:"",composition:"",group:"",photo:"",units:"",min_livel:"",re_order_livel:"",tax:"",allergies:"",vat:"",sale_price:"",note:"",unit:""}),s=r=>{const{name:t,value:i,files:h}=r.target;m({...a,[t]:h?h[0]:i}),w({...b,[t]:""})},x=async()=>{try{const r=await axios.get("/api/admin/patient-fetch");v(r.data)}catch(r){console.error("Error fetching data:",r)}};l.useEffect(()=>{x()},[]);const N=async r=>{r.preventDefault();const t=new FormData;t.append("name",a.name),t.append("admin_type",a.admin_type),t.append("admin_id",a.admin_id),t.append("category_id",a.category_id),t.append("company",a.company),t.append("composition",a.composition),t.append("group",a.group),t.append("photo",a.photo),t.append("units",a.units),t.append("min_livel",a.min_livel),t.append("re_order_livel",a.re_order_livel),t.append("tax",a.tax),t.append("allergies",a.allergies),t.append("vat",a.vat),t.append("sale_price",a.sale_price),t.append("note",a.note),t.append("unit",a.unit);try{await axios.post("/api/admin/medicine-store",t,{headers:{"Content-Type":"multipart/form-data"}}),m({name:"",category_id:"",company:"",composition:"",group:"",units:"",min_livel:"",re_order_livel:"",tax:"",allergies:"",vat:"",sale_price:"",note:"",unit:""}),S.fire({icon:"success",title:"Success!",text:"Form submitted successfully!"})}catch(i){console.log(i)}},p=()=>{f(!c)},_=()=>{y(!o)};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx("div",{className:"bg-gray-800 text-white w-[11%] flex-shrink-0",children:e.jsx(C,{})}),e.jsxs("div",{className:"flex-grow bg-gray-100 ",children:[e.jsx(k,{}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"card mt-2",children:e.jsxs("div",{className:"card-header flex justify-between px-[3rem] border py-3",children:[e.jsx("div",{className:"grid place-items-center text-[18px]",children:e.jsx("h1",{children:"Medicines Stock"})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{type:"button",onClick:p,className:"bg-gray-700 p-2 text-white rounded-md flex space-x-2",children:[e.jsx("div",{className:"grid place-items-center mt-1",children:e.jsx(n,{})}),e.jsx("h1",{children:"Add Medicine "})]}),e.jsxs(u,{href:"/admin/pharmacy/import-csv",type:"button",className:"bg-gray-700 p-2 text-white rounded-md flex space-x-2",children:[e.jsx("div",{className:"grid place-items-center mt-1",children:e.jsx(n,{})}),e.jsx("h1",{children:"Import Medicine "})]}),e.jsxs(u,{href:"/admin/pharmacy/medicine-list",type:"button",className:"bg-gray-700 p-2 text-white rounded-md flex space-x-2",children:[e.jsx("div",{className:"grid place-items-center mt-1",children:e.jsx(n,{})}),e.jsx("h1",{children:"Purchase Medicine "})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicine Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicine Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicine Composition"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicine Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicine Group"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available Qty"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:r.name}),e.jsx("td",{children:r.company}),e.jsx("td",{children:r.composition}),e.jsx("td",{children:r.category_id}),e.jsx("td",{children:r.group}),e.jsx("td",{children:r.unit}),e.jsx("td",{children:r.qty})]}))})]})}),e.jsxs("div",{id:"exampleModal",className:c?"  fixed h-screen transform  bg-black shadow-md rounded-md g  top-0 bottom-0 right-0 left-0 w-full hidden":"fixed h-screen transform  bg-black bg-opacity-85 shadow-md rounded-md   top-0 bottom-0 right-0 left-0 w-full grid place-items-center",children:[e.jsx("div",{className:"back-model w-[60%] bg-white relative ",children:e.jsxs("div",{className:"modal-content w-full",children:[e.jsxs("div",{className:"modal-header grid grid-cols-2  bg-[#0E99F4] p-2",children:[e.jsx("h1",{className:"text-white text-[1.3rem] pl-4",children:" Add Medicine Details"}),e.jsx("div",{className:"flex mt-[0.40rem]",children:e.jsx("button",{onClick:p,className:"ml-auto text-[2rem] text-white",children:e.jsx(M,{})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"w-full grid grid-cols-4 gap-3 px-6 mt-10 relative",children:[e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:" 	Medicine Name *"}),e.jsx("input",{type:"text",value:a.name,onChange:s,name:"name",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full ",children:[e.jsx("label",{htmlFor:!0,children:" Medicine Category *"}),e.jsxs("select",{value:a.category_id,onChange:s,name:"category_id",id:!0,className:"w-full border-gray-300",children:[e.jsx("option",{value:"",children:"Select Medicine Category"}),g.map(r=>e.jsx("option",{value:r.id,children:r.name}))]})]}),e.jsx("input",{name:"admin_type",value:a.admin_type,onChange:s,type:"hidden",className:" border-gray-300 w-full"}),e.jsx("input",{name:"admin_id",value:a.admin_id,onChange:s,type:"text",className:" border-gray-300 w-full"}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Medicine Company *"})," ",e.jsx("br",{}),e.jsx("input",{value:a.company,onChange:s,name:"company",type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Medicine Composition *"})," ",e.jsx("br",{}),e.jsx("input",{value:a.composition,onChange:s,name:"composition",type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Medicine Group *"})," ",e.jsx("br",{}),e.jsx("input",{value:a.group,onChange:s,name:"group",type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Unit *"})," ",e.jsx("br",{}),e.jsx("input",{value:a.unit,onChange:s,name:"unit",type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Min Level"})," ",e.jsx("br",{}),e.jsx("input",{value:a.min_livel,onChange:s,name:"min_livel",type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Re-Order Level"})," ",e.jsx("br",{}),e.jsx("input",{value:a.re_order_livel,onChange:s,name:"re_order_livel",type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Tax"})," ",e.jsx("br",{}),e.jsx("input",{value:a.tax,onChange:s,name:"tax",type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"Unit/Packing *"})," ",e.jsx("br",{}),e.jsx("input",{value:a.units,onChange:s,name:"units",type:"text",className:"w-full border-gray-300"})]}),e.jsxs("div",{className:"form-group w-full",children:[e.jsx("label",{htmlFor:!0,children:"VAT A/C"})," ",e.jsx("br",{}),e.jsx("input",{value:a.vat,onChange:s,name:"vat",type:"text",className:"w-full border-gray-300"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 px-6 gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-2 gap-3"}),e.jsxs("div",{className:"form-group  mt-4 w-full ",children:[e.jsx("label",{htmlFor:!0,children:"Note"})," ",e.jsx("br",{}),e.jsx("textarea",{value:a.note,onChange:s,name:"note",id:!0,rows:3,className:"px-6 w-full border-gray-300",defaultValue:""})]})]}),e.jsx("div",{className:"content mt-4",children:e.jsx("div",{class:"flex items-center justify-center w-full",children:e.jsxs("label",{for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-[2.5rem] border-2 border-gray-300 border-dashed  cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[e.jsx("div",{class:"flex flex-col items-center justify-center mt-4",children:e.jsx("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})})}),e.jsx("input",{onChange:s,id:"dropzone-file",name:"photo",type:"file",class:"hidden"})]})})})]}),e.jsx("div",{className:"form-group   bottom-0  left-0 right-0 mt-10 py-4",children:e.jsx("div",{className:"flex justify-end px-5 p-3 space-x-3 w-full",children:e.jsx("button",{onClick:N,className:"bg-gray-800 p-2 text-white w-[12%] ",children:"Save"})})})]})}),e.jsx(F,{Patientsmodal:o,handlePatients:_,fetchData:x})]})]})]})]})};export{z as default};
